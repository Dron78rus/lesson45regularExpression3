<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style>
      p {
        font-weight: bold;
      }
      .topic {
        text-decoration: underline;
      }
    </style>
    <p>Задание 1</p>
    <div class="topic">На карманы при замене</div>
    <br />
    <div class="task">
      Напишите регулярку, которая найдет строки по шаблону: любое количество
      букв и цифр, символ @, любое количество букв и цифр и поменяет местами то,
      что стоит до @ на то, что стоит после нее. Например, aaa@bbb должно
      превратиться в bbb@aaa.
    </div>
    <br /><br />
    <div class="divT1"></div>

    <br />
    <hr />
    <p>Задание 2</p>
    <div class="task">
      Напишите регулярку, которая найдет все цифры и удвоит их количество таким
      образом: 'a11b22c33' (то есть рядом с каждой цифрой напишет такую же).
    </div>
    <br /><br />
    <div class="divT2"></div>

    <br />
    <hr />
    <p>Задание 3</p>
    <div class="topic">Задачи на test и match</div>
    <br />
    <div class="task">
      С помощью метода test определите, что переданная строка является емэйлом.
    </div>
    <br /><br />
    <div class="divT3"></div>

    <br />
    <hr />
    <p>Задание 4</p>
    <div class="topic">Задачи на test и match</div>
    <br />
    <div class="task">С помощью match найдите все емэйлы в виде массива.</div>
    <br /><br />
    <div class="divT4"></div>

    <br />
    <hr />
    <p>Задание 5</p>
    <div class="task">
      С помощью test определите, что переданная строка является доменом.
    </div>
    <br /><br />
    <div class="divT5"></div>

    <br />
    <hr />
    <p>Задание 6</p>
    <div class="task">
      С помощью test определите, что переданная строка является доменом.
    </div>
    <br /><br />
    <div class="divT6"></div>

    <br />
    <hr />
    <p>Задание 7</p>
    <div class="task">
      С помощью test определите, что переданная строка является доменом вида
      http://site.ru. Протокол может быть как http, так и https.
    </div>
    <br /><br />
    <div class="divT7"></div>

    <br />
    <hr />
    <p>Задание 8</p>
    <div class="task">
      С помощью test определите, что переданная строка начинается с http или с
      https.
    </div>
    <br /><br />
    <div class="divT8"></div>

    <br />
    <hr />
    <p>Задание 9</p>
    <div class="task">
      С помощью test определите, что переданная строка заканчивается расширением
      txt, html или php.
    </div>
    <br /><br />
    <div class="divT9"></div>

    <br />
    <hr />
    <p>Задание 10</p>
    <div class="task">
      С помощью test определите, что переданная строка заканчивается расширением
      jpg или jpeg.
    </div>
    <br /><br />
    <div class="divT10"></div>

    <br />
    <hr />
    <p>Задание 11</p>
    <div class="task">
      С помощью test определите, что переданная строка заканчивается расширением
      jpg или jpeg.
    </div>
    <br /><br />
    <div class="divT11"></div>

    <br />
    <hr />
    <p>Задание 12</p>
    <div class="task">
      Дана строка с буквами, пробелами и цифрами. Найдите сумму всех чисел из
      данной строки.
    </div>
    <br /><br />
    <div class="divT12"></div>

    <br />
    <hr />
    <p>Задание 13</p>
    <div class="topic">Задачи на replace</div>
    <br />
    <div class="task">
      С помощью replace замените в строке домены вида http://site.ru,
      http://site.com на
      <code>&lt;a href="http://site.ru"&gt;site.ru&lt;/a&gt;</code>
    </div>
    <br /><br />
    <div class="divT13"></div>

    <br />
    <hr />
    <p>Задание 14</p>
    <div class="task">
      С помощью replace замените все повторяющиеся пробелы на один
    </div>
    <br /><br />
    <div class="divT14"></div>

    <br />
    <hr />
    <p>Задание 15</p>
    <div class="task">Найдите и удалите все комментарии CSS</div>
    <br /><br />
    <div class="divT15"></div>

    <br />
    <hr />
    <p>Задание 16</p>
    <div class="task">Найдите и удалите все комментарии HTML</div>
    <br /><br />
    <div class="divT16"></div>

    <script>
      // http://old.code.mu/tasks/javascript/regular/rabota-s-regulyarnymi-vyrazeniyami-v-javascript-glava-3.html

      // задание 1

      const d = document
      const str = 'aaa@bbb eee7@kkk'
      const divT1 = d.querySelector('.divT1')

      function outputOfResult(par, receivedValue, initialValue = 'none') {
        if (initialValue !== 'none') {
          const sourceString = `Исходная строка: ${initialValue}`
          const newDiv = d.createElement('div')
          par.appendChild(newDiv)
          newDiv.innerHTML = sourceString
        }

        const modifiedString = `Результат: ${receivedValue}`
        const newDiv2 = d.createElement('div')
        par.appendChild(newDiv2)
        newDiv2.innerHTML = modifiedString
      }

      const str2 = str.replace(/(\w+)@(\w+)/g, '$2@$1')

      outputOfResult(divT1, str2, str)

      // задание 2

      const divT2 = d.querySelector('.divT2')
      const str3 = 'a1b2c3'
      const str4 = str3.replace(/(\d)/g, '$1$1')

      outputOfResult(divT2, str4, str3)

      // задание 3

      const divT3 = d.querySelector('.divT3')

      const arr = [
        'mymail@mail.ru',
        'my.mail@mail.ru',
        'my-mail@mail.ru',
        'my_mail@mail.ru',
        'mail@mail.com',
        '777@mail.77',
        '888@888.com',
        '999@999.99',
        'mail@mail.by',
        'mail@yandex.ru',
      ]

      divT3.innerHTML = `Проверяемый массив адресов: `
      for (let i = 0; i < arr.length; i++) {
        if (i < arr.length - 1) {
          divT3.innerHTML += `${i + 1}. ${arr[i]} <br>`
        } else divT3.innerHTML += `${i + 1}. ${arr[i]} <br><br>`
      }

      for (let elem of arr) {
        if (/^[\w+\W?]*@[A-Za-z]+\.[a-z]{2,3}$/.test(elem)) {
          const str5 = `Элемент массива ${elem} является адресом электронной почты`
          outputOfResult(divT3, str5)
        }
      }

      // задание 4

      const divT4 = d.querySelector('.divT4')
      const str6 =
        'mymail@mail.ru, my.mail@mail.ru, my-mail@mail.ru, my_mail@mail.ru, mail@mail.com, mail@mail.by, mail@yandex.ru.'
      let arr2 = str6.match(/([a-zA-Z]+\W?[a-z]+@[a-zA-Z]+\.[a-z]{2,3})/g)
      console.log(arr2)
      outputOfResult(divT4, arr2, str6)

      // задание 5

      const divT5 = d.querySelector('.divT5')
      const arr3 = ['site.ru', 'site.com', 'my-site.com']

      divT5.innerHTML = `Проверяемый массив доменов: `
      for (let i = 0; i < arr3.length; i++) {
        if (i < arr3.length - 1) {
          divT5.innerHTML += `${i + 1}. ${arr3[i]} <br>`
        } else divT5.innerHTML += `${i + 1}. ${arr3[i]} <br><br>`
      }

      for (let elem of arr3) {
        if (/^[\w+._-]*\.[a-z]{2,3}$/.test(elem)) {
          const str = `Элемент массива ${elem} является доменом`
          outputOfResult(divT5, str)
        }
      }

      // задание 6

      const divT6 = d.querySelector('.divT6')
      const arr4 = ['http://site.ru', 'http://site.com']

      divT6.innerHTML = `Проверяемый массив доменов: `
      for (let i = 0; i < arr4.length; i++) {
        if (i < arr4.length - 1) {
          divT6.innerHTML += `${i + 1}. ${arr4[i]} <br>`
        } else divT6.innerHTML += `${i + 1}. ${arr4[i]} <br><br>`
      }

      for (let elem of arr4) {
        if (/^http:\/\/[\w+._-]*\.[a-z]{2,3}$/.test(elem)) {
          const str = `Элемент массива ${elem} является доменом`
          outputOfResult(divT6, str)
        }
      }

      // задание 7

      const divT7 = d.querySelector('.divT7')
      const arr5 = ['http://site.ru', 'http://site.com']

      divT7.innerHTML = `Проверяемый массив доменов: `
      for (let i = 0; i < arr5.length; i++) {
        if (i < arr5.length - 1) {
          divT7.innerHTML += `${i + 1}. ${arr5[i]} <br>`
        } else divT7.innerHTML += `${i + 1}. ${arr5[i]} <br><br>`
      }

      for (let elem of arr5) {
        if (/^https?:\/\/[\w+._-]*\.ru$/.test(elem)) {
          const str = `Элемент массива ${elem} является доменом`
          outputOfResult(divT7, str)
        }
      }

      // задание 8

      const divT8 = d.querySelector('.divT8')
      const arr6 = [
        'http://site.ru',
        'http://site.com',
        'https://site.com',
        'www.site.com',
      ]

      divT8.innerHTML = `Проверяемый массив доменов: `
      for (let i = 0; i < arr6.length; i++) {
        if (i < arr6.length - 1) {
          divT8.innerHTML += `${i + 1}. ${arr6[i]} <br>`
        } else divT8.innerHTML += `${i + 1}. ${arr6[i]} <br><br>`
      }

      for (let elem of arr6) {
        if (/^https?/.test(elem)) {
          const str = `Элемент массива ${elem} начинается с http или с
      https`
          outputOfResult(divT8, str)
        }
      }

      // задание 9

      const divT9 = d.querySelector('.divT9')
      const str7 = 'index.php'
      const str8 = /\.(txt|html|php)$/g.test(str7)

      outputOfResult(divT9, str8, str7)

      // задание 10

      const divT10 = d.querySelector('.divT10')
      const str9 = 'index.php'
      const str10 = /\.(jpe?g)$/g.test(str9)

      outputOfResult(divT10, str10, str9)

      // задание 11

      const divT11 = d.querySelector('.divT11')
      const str11 = '1234567891312312323'
      let str12
      if (/^\d{12}$/.test(str11)) {
        str12 = 'строка является числом, длиной до 12 цифр'
      } else str12 = 'строка не является числом, длиной до 12 цифр'

      outputOfResult(divT11, str12, str11)

      // задание 12

      const divT12 = d.querySelector('.divT12')
      const str13 = '46 vf 45 ty'
      let str14
      let count = 0
      let arr7 = []
      arr7 = str13.match(/\d/g)
      for (let i = 0; i < arr7.length; i++) {
        count += Number(arr7[i])
      }

      str14 = `сумма цифр строки '${str13}' = ${count}`

      outputOfResult(divT12, str14, str13)

      // задание 13

      const divT13 = d.querySelector('.divT13')
      const str15 = 'http://site.ru aa aaa https://site.com'
      const str16 = str15.replace(
        /https?:\/\/(.+?\.[a-z]{2,3})/g,
        `<a href = $& > $1 </a>`
      )

      outputOfResult(divT13, str16, str15)

      // задание 14

      const divT14 = d.querySelector('.divT14')
      const str17 =
        '12&nbsp;aa&nbsp;&nbsp;&nbsp;&nbsp;aaa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56'
      const str18 = str17.replace(/(?:&nbsp;)+/g, `&nbsp;`)

      outputOfResult(divT14, str18, str17)

      // задание 15

      const divT15 = d.querySelector('.divT15')
      const str19 = '/*dfdf*/ sadsad jkhkgkl /*12*/ kjfjkfv /*0oio*/'
      const str20 = str19.replace(/\/\*.*?\*\//g, '')

      outputOfResult(divT15, str20, str19)

      // задание 16

      const divT16 = d.querySelector('.divT16')
      const str21 = `<pre><!--dfdf--> sadsad <!--ghgh--></pre>`
      const str22 = str21.replace(/<!--.*?-->/g, '')

      outputOfResult(divT16, str22, str21)
    </script>
  </body>
</html>
